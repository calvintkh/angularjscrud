<br><a routerLink = "/" class="btn btn-primary"> < back </a>

<h2>Add New USER</h2>


<form id = "formNewProduct" name = "formNewProduct" #productData ="ngForm"  enctype="multipart/form-data" (ngSubmit) = "addNewProduct(productData.value)">
  <div class="form-group">
  <label>First Name: </label>
  <input type = "text" name="First_Name" id="First_Name" placeholder="First Name" ngModel #FirstName="ngModel" maxlength="35" required pattern="[a-zA-Z ]+"><br>
  </div>
  <div *ngIf="FirstName.touched" class="alert alert-danger">
    <div *ngIf="FirstName.errors?.required">
      First Name is required
    </div>
  </div>

  <div class="form-group">
      <label>Last Name: </label>
      <input type = "text" name="Last_Name" id="Last_Name" placeholder="Last Name" ngModel #LastName="ngModel" maxlength="50" required pattern="[a-zA-Z ]+"><br><br>
  </div>
      <div *ngIf="LastName.touched" class="alert alert-danger">
        <div *ngIf="LastName.errors?.required">
          Last Name is required
        </div>
      </div>

      <div class="form-group">
        <label for="Nationality">Nationality</label>
        <select id="Nationality" name="Nationality" [(ngModel)]="Nationality" class="form-control">
          <option value="MY">Malaysian</option>
          <option value="SG">Singaporean</option>
          <option value="IN">Indonesian</option>
        </select><br><br>
        <div *ngIf="Nationality==='MY'">
          <label for="selectIdentity">Select Identity No Type</label>
          <select id="National" name="National" [(ngModel)]="National" class="form-control">
            <option>New IC</option>
            <option>Old IC</option>
          </select>
          
          <div *ngIf="National==='New IC'">
                <label>Identity No: </label>
                <input type = "text" name="Identity_No" id="Identity_No" (change)="onWordChange(IdentityNo.value)" ngModel #IdentityNo="ngModel" maxlength="12" minlength="12" required pattern="">
              <div *ngIf="IdentityNo.touched" class="alert alert-danger">
                    <div *ngIf="IdentityNo.errors?.required">
                      Identity No is required
                    </div> 
                    <div *ngIf="IdentityNo.errors?.minlength">
                      must be 12 valid characters long.
                    </div> 
                    <div *ngIf="IdentityNo.errors?.pattern">
                      Invalid New IC method.
                    </div>
              </div>

                  
          </div>
          <br>

          <div *ngIf="National==='Old IC'">
            <label>Identity No: </label>
            <input type = "text" name="Identity_No" id="Identity_No" placeholder="Identity No" ngModel #IdentityNo="ngModel" maxlength="7" minlength="7" required pattern="[0-9]+"><br>
              <div *ngIf="IdentityNo.touched" class="alert alert-danger">
                <div *ngIf="IdentityNo.errors?.required">
                  Identity No is required
                </div> 
                <div *ngIf="IdentityNo.errors?.minlength">
                  must be 7 characters long.
                </div> 
                <div *ngIf="IdentityNo.errors?.pattern">
                  must be numeric.
                </div>
              </div>
          </div>
        </div>

        <div *ngIf="Nationality!=='MY'">
          <label>Identity No: </label>
          <input type = "text" name="Identity_No" id="Identity_No" placeholder="Identity No" ngModel #IdentityNo="ngModel" maxlength="9" minlength="9" required pattern="[0-9]+"><br>
          
          <div *ngIf="IdentityNo.touched" class="alert alert-danger">
            <div *ngIf="IdentityNo.errors?.required">
              Identity No is required
            </div>
            <div *ngIf="IdentityNo.errors?.minlength">
              must be 9 characters long.
            </div>
            <div *ngIf="IdentityNo.errors?.pattern">
              must be numeric.
            </div>
            
          </div>
        </div>
      </div>

      <div ng-controller="Ctrl">
        <div class="form-group">
          <label>Birthdate: </label>
          <input type = "date" name="Birthdate" id="Birthdate" placeholder="DD" ngModel #Bdate="ngModel" max="{{minAge | date:'yyyy-MM-dd'}}" required >
        </div>
      </div>
     
        <div *ngIf="Bdate.touched" class="alert alert-danger">
          <div *ngIf="Bdate.errors?.required">
            Day is required
          </div>
          <div *ngIf="Bdate.errors?.max">
            Not enough age
          </div>          
        </div>
     
  

  <div class="form-group">
    <label>Contact No: </label>
    <input type = "text" name="Contact_No" id="Contact_No" placeholder="Contact No" ngModel #ContactNo="ngModel" maxlength="15" required pattern="[0-9]+"><br>
  </div>
  <div *ngIf="ContactNo.touched" class="alert alert-danger">
    <div *ngIf="ContactNo.errors?.required">
      Contact No is required
    </div>
  </div>

  <div class="form-group">
    <label>Address: </label>
    <input type = "text" name="Address" id="Address" placeholder="Address" ngModel #Address="ngModel" maxlength="100" required><br>
  </div>
  <div *ngIf="Address.touched" class="alert alert-danger">
    <div *ngIf="Address.errors?.required">
      Address is required
    </div>
  </div>

  <div class="form-group">
    <label>City: </label>
    <input type = "text" name="City" id="City" placeholder="City" ngModel #City="ngModel" maxlength="35" required><br>
  </div>
  <div *ngIf="City.touched" class="alert alert-danger">
    <div *ngIf="City.errors?.required">
      City is required
    </div>
  </div>

  <div class="form-group">
    <label>State: </label>
    <input type = "text" name="State" id="State" placeholder="State" ngModel #State="ngModel" maxlength="35" required><br>
  </div>
  <div *ngIf="State.touched" class="alert alert-danger">
    <div *ngIf="State.errors?.required">
      State is required
    </div>
  </div>

  <div class="form-group">
    <label>Postcode: </label>
    <input type = "text" name="Post_Code" id="Post_Code" placeholder="Postcode" ngModel #PostCode="ngModel" maxlength="15" required pattern="[0-9]+"><br>
  <br>
  </div>
  <div *ngIf="PostCode.touched" class="alert alert-danger">
    <div *ngIf="PostCode.errors?.required">
      PostCode is required
    </div>
  </div>

  <div class="form-group">
    <label for="Country">Country</label>
    <select id="Country" name="Country" [(ngModel)]="Country" class="form-control">
      <option value="Malaysia">Malaysia</option>
      <option value="Singapore">Singapore</option>
      <option value="Indonesia">Indonesia</option>
    </select><br>
  </div>
  
  <div class="form-group">
    <label>Email: </label>
    <input type = "email" name="Email" id="Email" placeholder="Email" ngModel #email="ngModel" maxlength="100" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$" required><br>
  </div>
  <div *ngIf="email.touched" class="alert alert-danger">
    <div *ngIf="email.errors?.required">
      Email is required
    </div>
    <div *ngIf="email.errors?.pattern ">Email Invalid</div>
  </div>

  <label>Bank Account: </label>
  <input type = "text" name="Bank_Account" id="Bank_Account" placeholder="Bank Account" ngModel maxlength="100" ><br>
  
  <label>Issue Bank: </label>
  <input type = "text" name="Issue_Bank" id="Issue_Bank" placeholder="Issue Bank" ngModel maxlength="2" ><br>
  
  <label>Attachment: </label>
  <input type = "file"  name="Attachment" id="Attachment" placeholder="Attachment" ngModel ><br><br>
 
  <button type = "submit" value = "Add Product" (click)="onUpload()" [disabled]="productData.invalid">Submit</button>

</form> 
<br>
<h3 *ngIf = "isAdded">{{confirmationString}}</h3>